<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <!-- <link rel="stylesheet" href="css/home.css" /> -->
    <link rel="stylesheet" href="scss/home.css" />

    <title>Gomagame</title>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light">
      <div class="container-fluid logo">
        <figure>
          <img src="image/logo.png" alt="logo" />
        </figure>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNavDropdown"
          aria-controls="navbarNavDropdown"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div
          class="collapse navbar-collapse d-lg-flex justify-content-end"
          id="navbarNavDropdown"
        >
          <ul class="navbar-nav me-5">
            <li class="nav-item">
              <a
                class="nav-link active text-white"
                aria-current="page"
                href="index.html"
                >Home</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link active text-white" aria-current="page" href="#"
                >News</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link active text-white" aria-current="page" href="#"
                >Topup</a
              >
            </li>
          </ul>
          <a href="login.html" class="btn login me-3 text-white">Login</a>
        </div>
      </div>
    </nav>
    <div class="container-fluid row article mt-4">
      <div class="content col-lg-8 col-md-12">
        <figure id="banner">
          <img src="" />
        </figure>
        <section class="mt-3">
          <h1 class="text-white">Latest Article</h1>
          <article class="row p-0 mt-3">
            <figure class="col-lg-4 col-md-4 col-sm-4 mb-3">
              <img src="image/home/art-1.webp" alt="image article" />
            </figure>
            <div class="col-lg-8 col-md-8 col-sm-8 isi">
              <h2 class="text-white mb-0">
                Daftar Tim, Grup, Format, Jadwal, dan Cara Nonton PMPL SEA
                Championship S4
              </h2>
              <small class="text-white">Berita - 2 days ago</small>
              <p class="text-white mt-2">
                20 tim PUBG Mobile terbaik se-Asia Tenggara sudah siap
                memperebutkan total prize pool senilai Rp2,8 miliar di PMPL SEA
                Championship S4 mulai pekan depan.
              </p>
            </div>
          </article>
          <article class="row p-0 mt-3">
            <figure class="col-lg-4 col-md-4 col-sm-4 mb-3">
              <img src="image/home/art-2.webp" alt="image article" />
            </figure>
            <div class="col-lg-8 col-md-8 col-sm-8 isi">
              <h2 class="text-white mb-0">
                Tim Doki Doki Literature Club Plus Kebingungan Memilih
                Penerjemahan “Just Monika” Versi Jepang
              </h2>
              <small class="text-white">Berita - 41 minutes ago</small>
              <p class="text-white mt-2">
                Doki Doki Literature Club Plus! mengalami sedikit kendala dimana
                tim penerjemah mereka kebingungan memilih translasi “Just
                Monika” untuk versi Jepang.
              </p>
            </div>
          </article>
        </section>
      </div>
      <aside class="col-lg-4">
        <section>
          <h1 class="text-white">Trending</h1>
          <article class="row p-0 mt-3">
            <div class="col-lg-8 col-md-8 col-sm-8 isi">
              <h2 class="text-white mb-0">
                11 game pc yang lagi rame berdasarkan jumlah pemain di steam
              </h2>
              <small class="text-white">2 days ago</small>
            </div>
            <figure class="col-lg-4 col-md-4 col-sm-4">
              <img src="image/home/tren-1.webp" alt="image article" />
            </figure>
          </article>
          <article class="row p-0 mt-3">
            <div class="col-lg-8 col-md-8 col-sm-8 isi">
              <h2 class="text-white mb-0">
                Michel Ziudith Ternyata Hobi Main Di Ghenshin Impact
              </h2>
              <small class="text-white">2 days ago</small>
            </div>
            <figure class="col-lg-4 col-md-4 col-sm-4">
              <img src="image/home/tren-2.webp" alt="image article" />
            </figure>
          </article>
          <article class="row p-0 mt-3">
            <div class="col-lg-8 col-md-8 col-sm-8 isi">
              <h2 class="text-white mb-0">
                Tom And Jerry Chase Buka Masa Pre-Registrasi Untuk Indonesia
              </h2>
              <small class="text-white">2 days ago</small>
            </div>
            <figure class="col-lg-4 col-md-4 col-sm-4">
              <img src="image/home/tren-3.webp" alt="image article" />
            </figure>
          </article>
        </section>
      </aside>
    </div>
    <section class="gallery container-fluid pe-4 ps-4 mt-4">
      <div class="gallerys">
        <!-- <div class="gallery-items-1" id="gallery-1">
          <img src="image/home/gallery-2.webp" />
        </div>
        <div class="gallery-items-2" id="gallery-2">
          <img src="image/home/gallery-3.webp" />
        </div>
        <div class="gallery-items-3" id="gallery-3">
          <img src="image/home/gallery-4.webp" />
        </div>
        <div class="gallery-items-4" id="gallery-4">
          <img src="image/home/gallery-5.webp" />
        </div>
        <div class="gallery-items-5" id="gallery-5">
          <img src="image/home/gallery-6.webp" />
        </div>
        <div class="gallery-items-6" id="gallery-6">
          <img src="image/home/gallery-7.webp" />
        </div> -->
      </div>
    </section>
    <footer class="mt-3">
      <div class="footer-top row container-fluid align-items-center">
        <div class="title col-lg-3 col-md-3">
          <h1>goma <span>game</span></h1>
        </div>
        <div class="link col-lg-3 col-md-3">
          <ul
            class="d-flex flex-wrap justify-content-center align-items-center"
          >
            <li><a href="">Home</a></li>
            <li><a href="">News</a></li>
            <li><a href="">Topup</a></li>
            <li><a href="">About</a></li>
          </ul>
        </div>
        <div class="sosmed col-lg-6 col-md-6"></div>
      </div>
      <div class="copyright text-white d-flex align-items-center ps-2">
        Copyright © 2021 GomaGame. All rights reserved
      </div>
    </footer>
    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/jquery.min.js"></script>
    <script>
      $(document).ready(async () => {
        const url = "http://localhost:5000/";
        const getGallery = () => {
          return new Promise((resolve, reject) => {
            $.ajax({
              url: `${url}v1/gallery/`,
              type: "GET",
              success: ({ gallerys }) => {
                resolve(gallerys);
              },
              error: () => {},
            });
          });
        };
        const showGallery = (gallery) => {
          let html = "";
          const gallerys = $("section.gallery .gallerys");
          if (gallery.length >= 7) {
            let banner = gallery.shift();
            let imageBanner = $(".content figure#banner img");
            imageBanner.attr("data-name", banner.nameImage);
            imageBanner.attr("src", `${url}${banner.imageUrl}`);
          }
          gallery.forEach((item, index) => {
            html += `
              <div class="gallery-items-${index + 1}">
            <img src="${url}${item.imageUrl}"data-name="${item.nameImage}" />
          </div>
              `;
          });
          gallerys.html(html);
        };
        const swapImage = (el1, el2) => {
          let attr = [
            el1.dataset.name,
            el1.src,
            el2.data("name"),
            el2.attr("src"),
          ];
          console.log(el1.src);
          el1.dataset.name = attr[2];
          el1.src = attr[3];
          el2.attr("data-name", attr[0]);
          el2.attr("src", attr[1]);
        };
        const gallery = await getGallery();
        showGallery(gallery);
        const elementGallery = $("section.gallery .gallerys");
        const childGallery = elementGallery.children();
        childGallery.map((index, element) => {
          element.addEventListener("click", (e) => {
            const imageBanner = $(".content figure#banner img");
            swapImage(e.target, imageBanner);
          });
        });
      });
    </script>
  </body>
</html>
